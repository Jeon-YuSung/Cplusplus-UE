# Ch 5 오류 (Error)

##  5.1 개요 - 오류 분류 
오류 없는 완벽한 프로그램은 없다. 오류를 완전히 피활 수 없지만, 완성된 프로그램은 오류가 전혀 없거나, 적어도 받아들일 수 없다고 치부되는 오류를 포함해서는 안된다.

오류를 분류하는 다양한 방법은 다음과 같다.
1. 컴파일 시간 오류(Compile-Time Error) : 컴파일러가 찾아낸 오류로, 컴파일 시간 오류는 해당 오류가 위반한 언어의 규칙에 따라 더 세부적으로 나눌 수 있음.
   - 문법 오류
   - 타입 오류
   
2. 링크 시간 오류(Linker Error) : 목적 파일을 실행 프로그램에 통합하는 과정에서 링커가 찾아낸 오류
3. 실행 시간 오류(Run-Time Error) : 프로그램을 실행하는 동안 확인된 오류로, 이 또한 더 세부적으로 나눌 수 있다.
   - 컴퓨터(HW or OS)가 감지한 오류
   - 라이브러리가 감지한 오류
   - 사용자 코드가 감지한 오류
4. 논리 오류(Logic Error) : 프로그래머가 잘못된 결과의 원인을 분석하는 과정에서 찾아낸 오류.

모든 오류를 제거하는 것은 불가능하다. 하지만 프로그램이 손상되어도 시스템의 어딘가에서 적절한 조치를 취해줄 수 있다. <br>
즉, 핵심은 **이 프로그램이 그런 오류를 감지해야하는가?** 라고 할 수 있고, 우리는 프로그램에 대해 다음과 같이 정의한다.
1. 모든 적법한 입력에 대해 요구받은 결과를 생성한다.
2. 모든 적법하지 않은 입력에 대해 적절한 오류 메시지를 출력한다.
3. 하드웨어의 오동작은 고려하지 않는다.
4. 시스템 소프트웨어의 오동작은 고려하지 않는다.
5. 오류를 감지한 후에는 종료해도 좋다.
3,4,5번 가정을 만족하지 않은 모든 프로그램은 진보된 프로그램이라고 생각하면 된다. 반면 1,2번 가정은 가장 기본적이고 프로그래머가 추구해야할 목표이다. <br>
그럼 **오류를 어떻게 처리해야할까?** 오류를 잘 처리하고, 기본적으로 적절한 수준의 소프트웨어를 만들기 위해서 다음과 같은 3가지 접근 방법을 항상 생각하자.
1. 소프트웨어를 조직화해서 오류를 최소화한다.
2. 우리가 만든 대부분의 오류를 테스트와 디버깅을 바탕으로 제거한다.
3. 남아있는 오류는 사소한 오류임을 확인하다.

항상 올바르게 작동하는 프로그램이 목표이기에 거기에 달성할 수 있도록 노력하자. 

--------------------------------------------------------------
## 5-2 오류의 원인 
이제 오류가 생기는 이유를 알아보자. 
1. 엉터리 명세 : 프로그램이 해야 할 일을 정확히 명시하지 않으면, 사각 지대를 제대로 확인하고, 모든 경우를 처리했는지 알기 어렵다.
2. 불완전한 프로그램 : 개발 과정에서 고려하지 않은 경우가 있을 수 있다. 이를 피할 수 없겠지만, 적어도 모든 경우를 처리했음을 확인하는 일을 목표로 삼아야한다.
3. 예상 밖의 인자(Argument) : 함수는 인자를 받아들이며, 우리가 처리하지 않은 인자가 함수에 전달되면 문제가 된다.
4. 예상 밖의 입력 : 일반적으로 프로그램은 데이터를 읽는다. 프로그램은 이러한 입력에 대해 많은 가정을 하지만, 예상 밖의 입력이 들어오면 문제가 생긴다
```cpp
int a;
cin >> a;
//근데 정수형 20 대신에 "Hello"를 넣어봐라 
```
5. 예상 밖의 상태 : 대부분의 프로그램은 시스템의 서로 다른 부분에서 사용할 데이터(상태)를 유지한다. 주소 목록, 전화번호부, 온도 측정 결과를 저장하는 Vector 등... 근데 그런 데이터가 불완전하거나 틀렸다면 어찌할까? 이건 추후에 26장에서 다룬다.
6. 논리 오류 : 코드가 의도한대로 작동하지 않은 경우를 말하고, 이런 문제는 찾아서 고칠 수 밖에 없다, 6장에서 다룬다.
**이 목록은 실용적으로 쓸모가 있다** 즉, 프로그램을 어느정도 확인해야 하는지 알려주는 CheckList로 사용할 수 있다.<br>
잠재적인 오류의 원인을 모두 고려하지 않으면 그 어떤 프로그램도 완벽하지 않다.

-------------------------------------------------------------------------

## 컴파일 시간 오류(Compile Time Error)
